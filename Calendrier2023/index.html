<!DOCTYPE html>
<html lang="fr">
<head>
    <title>Calendrier de l’Avent 2023</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
    
</head>
<body>
<div class="jumbotron text-center" style="margin-bottom:0; background-color: #000033; color: white;">
    <h1>Calendrier de l'Avent 2023</h1>
    <p>Spécial médias</p>
</div>

<div id="galerie" class="galerie"></div>

<div id="myModal" class="modal" tabindex="-1" role="dialog" aria-labelledby="myModal" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Modal title</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p class="message"></p>
            </div>
        </div>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
<script>
    $(document).ready(function () {
        let today = new Date();
        let galerie = document.getElementById("galerie");
        var calendar_content = [
            ["12", "XXX"],
            ["8", "XXX"],
            ["14", "XXX"],
            ["17", "XXX"],
            ["2", "XXX"],
            ["13",  "XXX"],
            ["3", "XXX"],
            ["23", "XXX"],
            ["1", "XXX"],
            ["9", "XXX"],
            ["15", "XXX"],
            ["6",  "XXX"],
            ["18", "XXX"],
            ["7", "XXX"],
            ["20",  "XXX"],
            ["11", "XXX"],
            ["4", "XXX"],
            ["10", "XXX"],
            ["21", "XXX"],
            ["16", "XXX"],
            ["5", "XXX"],
            ["22", "XXX"],
            ["19", "XXX"],
            ["24", "XXX"],
        ]
        for (i = 0; i < calendar_content.length; i++) {
            galerie.innerHTML += '<img class="image-day" id="image' + calendar_content[i][0] + '" src="https://ofnik.github.io/Calendrier/img/' + calendar_content[i][0] + '.png" alt="Récompense du ' + calendar_content[i][0] + ' décembre" data-toggle="modal" data-target="#myModal" data-message="' + calendar_content[i][1] + '" data-day="' + calendar_content[i][0] + '"/>'
        }

        $(document).on("click", ".image-day", function () {
            var title = "";
            var message = "";
         
            let calDate = new Date('2023-12-' + $(this).data('day'));

            if (calDate > today) {
                title = 'Ouh là là&nbsp;!';
                message = 'C\'est absolument interdit&nbsp;!';
            } else {
                title = calDate.toLocaleDateString("fr-FR", { month: 'long', day: 'numeric' });
                message = $(this).data('message');
            }

            $(".modal-title").html(title);
            $(".modal-body > .message").html(message);
        });
    })

</script>
</body>
</html>
